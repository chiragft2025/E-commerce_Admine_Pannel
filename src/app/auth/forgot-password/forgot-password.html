<div class="container py-3" [attr.aria-busy]="loading">

  <!-- Loading -->
  <div *ngIf="loading" class="text-center my-4" role="status" aria-live="polite">
    <div class="spinner-border" aria-hidden="true"></div>
    <div class="visually-hidden">Processing…</div>
  </div>

  <!-- Error -->
  <div *ngIf="error && !loading" class="alert alert-danger" role="alert">
    {{ error }}
  </div>

  <!-- Card -->
  <div *ngIf="!loading" class="details-card card p-3 p-md-4" role="region" aria-label="Forgot password">

    <div class="mb-3">
      <h2 class="h5 mb-1">Forgot Password</h2>
      <p class="text-muted small mb-0">
        Enter your registered email address. We’ll send you a one-time password (OTP).
      </p>
    </div>

    <form #f="ngForm" (ngSubmit)="submit()" novalidate>
      <div class="row g-3 mb-3">

        <div class="col-12">
          <label class="form-label">Email address</label>
          <input
            type="email"
            class="form-control"
            name="email"
            [(ngModel)]="email"
            #emailCtrl="ngModel"
            required
            email
            autocomplete="email"
            [class.is-invalid]="emailCtrl.touched && emailCtrl.invalid"
          />
        </div>

      </div>

      <div class="d-flex justify-content-end gap-2">
        <button type="button" class="btn btn-outline-secondary" routerLink="/login">
          Back to Login
        </button>

        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="loading || f.invalid"
        >
          Send OTP
        </button>
      </div>
    </form>
  </div>
</div>
