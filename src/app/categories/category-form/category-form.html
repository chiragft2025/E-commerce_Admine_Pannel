<div class="form-card card shadow-sm p-4">

  <h2 class="mb-4">{{ isEdit ? "Edit Category" : "New Category" }}</h2>

  <form [formGroup]="form" (ngSubmit)="save()">

    <!-- Title -->
    <div class="mb-3">
      <label class="form-label">Title<span class="requried1">*</span></label>
      <input type="text" class="form-control" formControlName="title" />

      <div class="text-danger small mt-1"
           *ngIf="form.get('title')?.touched && form.get('title')?.invalid && form.get('title')?.hasError('required')">
        * Title is required
      </div>

      <!-- Duplicate error from server -->
      <div class="text-danger small mt-1"
           *ngIf="form.get('title')?.touched && form.get('title')?.hasError('duplicate')">
        * A category with this title already exists
      </div>
    </div>

    <!-- Description -->
    <div class="mb-3">
      <label class="form-label">Description</label>
      <textarea class="form-control" formControlName="description" rows="3"></textarea>
    </div>

    <!-- Global server error (non-field) -->
    <div *ngIf="serverErrorMessage" class="alert alert-danger small">
      {{ serverErrorMessage }}
    </div>

    <!-- Buttons -->
    <div class="d-flex justify-content-end gap-2 mt-4">
      <button type="submit" class="btn btn-primary px-4">
        {{ isEdit ? "Update" : "Create" }}
      </button>

      <button type="button" class="btn btn-outline-secondary px-4" (click)="cancel()">
        Cancel
      </button>
    </div>

  </form>
</div>
